package oap

class FundingService {

    def oap_funding_grantNumbers = [ // XXX Not used.
            "NA19OAR0170351",
            "NA19OAR0170349",
            "NA19OAR0170354",
            "NA19OAR0170357",
            "OAP 1901-1901",
            "OAP 1902-1902",
            "OAP 1903-1903",
            "OAP 1904-1904",
            "NA18NOS4780178",
            "NA18NOS4780177",
            "NA18NOS4780179",
            "NA18NOS4780180",
            "NA17OAR0170332",
            "NA18OAR0170430",
            "OAP1802-1802 ",
            "NA17OAR0170332",
            "OAP1803-1514",
            "OAP1803-1514",
            "OAP1804-1006",
            "OAP1805-1007",
            "OAP1806-1003",
            "OAP1807-1019",
            "OAP1807-1020",
            "OAP1809-1017",
            "OAP1810-1002",
            "OAP1811-1001",
            "OAP1812-1527",
            "OAP1812-1527",
            "OAP1814-1028",
            "OAP1815-1702",
            "OAP1816-1032",
            "OAP1807-1019",
            "OAP1817-1033",
            "OAP1818-1704",
            "OAP1819-1034",
            "OAP1820-1703",
            "OAP1821-1031",
            "OAP1813-1616",
            "OAP1822-1027",
            "OAP1823-1010",
            "OAP1824-1824",
            "OAP1825-1825",
            "OAP1802-1802",
            "OAP1826-1826",
            "OAP1827-1120",
            "OAP1828-1020",
            "OAP1829-1023",
            "OAP1808-1808",
            "OAP1826-1826",
            "OAP1827-1120",
            "OAP1834-1537",
            "OAP1835-1538",
            "OAP1836-1021",
            "OAP1837-1542",
            "OAP1838-1201",
            "OAP1840-1216",
            "OAP1841-1841",
    ]
    def oap_fundings = [
            ["NA19OAR0170351","Assessment of the Observing Network to Identify Processes Relevant to the Predictability of the Coastal Ocean of the Northeast on Centennial Time Scales","9/1/19","8/31/21"],
            ["NA19OAR0170349","Optimizing Ocean Acidification Observations for Model Parameterization in the Coupled Slope Water System of the U.S. Northeast Large Marine Ecosystem","9/1/19","8/31/22"],
            ["NA19OAR0170354","Ocean Acidification on a Crossroad: Enhanced Respiration, Upwelling, Increasing Atmospheric CO2, and their interactions in the northwestern Gulf of Mexico","9/1/19","8/31/22"],
            ["NA19OAR0170357","An observing system optimization study for ocean acidification along the central and northern California coast","9/1/19","8/31/21"],
            ["OAP 1901-1901","Quantifying coral reef net calcification capacity and vulnerability in the context of Ocean acidification","9/1/19","12/31/20"],
            ["OAP 1902-1902","Seasonal Forecasts of Ocean Acidification in the Bering Sea","5/1/19","12/31/20"],
            ["OAP 1903-1903","Synthesis and Visualization of carbonate and nutrient data on North American Continental Shelves","9/1/19","12/31/20"],
            ["OAP 1904-1904","Maintaining and expanding NOA-ON moored time-series product","5/1/19","12/31/20"],
            ["NA18NOS4780178","Ocean and Coastal Acidification Thresholds from Long Island Sound to the Nova Scotian Shelf","9/1/18","8/30/20"],
            ["NA18NOS4780177","Can meadow of underwater eelgrass help mitigate the harmful effects of Ocean Acidification on East oysters","9/1/18","8/30/20"],
            ["NA18NOS4780179","How sensitive are systems in the Chesapeake Bay to acidification and nutrient pollution","9/1/18","8/30/20"],
            ["NA18NOS4780180","Research to inform adaptation decision for Alaska's Salmon Fisheries","9/1/18","8/30/20"],
            ["NA17OAR0170332","Establishing the traceability of pH measurements for long-term carbon system monitoring from coastal waters to open ocean","9/1/17","8/30/20"],
            ["NA18OAR0170430","Vulnerability of the largest U.S. estuary to acidification: Implications of declining pH for shellfish hatcheries in the Chesapeake Bay","9/1/18","8/30/20"],
            ["OAP1802-1802 ","Synthesizing the impacts of OA on coral reef ecosystem goods and services for future vulnerability assessments using an Atlantis ecosystem model","9/1/18","8/30/20"],
            ["NA17OAR0170332","Establishing the traceability of pH measurements for long-term carbon system monitoring from coastal waters to open ocean - NIST","9/1/17","8/30/20"],
            ["OAP1803-1514","Alaska Enterprise: Observations of ocean acidification in Alaska Coastal Seas - Coastal Cruise (Cross, PMEL)","FY18","FY20"],
            ["OAP1803-1514","Alaska Enterprise: Observations of ocean acidification in Alaska Coastal Seas - Moorings (Cross, PMEL)","FY18","FY20"],
            ["OAP1804-1006","AOML OA Entity: Data acquisition and analysis from coastal OA research cruises (Barbero, AOML)","FY18","FY20"],
            ["OAP1805-1007","AOML OA Entity: Surface OA observations on Ships of Opportunity"," SOOP-OA (Wanninkhof, AOML)","FY18","FY20"],
            ["OAP1806-1003","California Current Ecosystem OA Enterprise: Sustained Ocean Acidification Biogeochemical and Ecological Survey Observations (Feely, PMEL)","FY18","FY20"],
            ["OAP1807-1019","NCRMP OA Enterprise: National Coral Reef Monitoring Program – Ocean Acidification Atlantic (Manzello, AOML)","FY18","FY20"],
            ["OAP1807-1020","NCRMP OA Enterprise: National Coral Reef Monitoring Program – Ocean Acidification Pacific (Oliver, PIFSC)","FY18","FY20"],
            ["OAP1809-1017","NEFSC OA Entity: Monitoring of OA on the Northeast U.S. Shelf (Melrose, NEFSC)","FY18","FY20"],
            ["OAP1810-1002","PMEL OA Observing Network Entity: Sustained Investment Coastal Underway Ocean Acidification Observations (Alin, PMEL)","FY18","FY20"],
            ["OAP1811-1001","PMEL OA Observing Network: Sustained Ocean Acidification Mooring Observations (Sutton, PMEL)","FY18","FY20"],
            ["OAP1812-1527","East Coast Ocean Acidification Cruise (ECOA) - Extramural (Salisbury, Cai)","FY18","FY20"],
            ["OAP1812-1527","East Coast Ocean Acidification Cruise (ECOA) - Extramural (Langdon)","FY18","FY20"],
            ["OAP1814-1028","NOA-ON Gulf of Maine (Salisbury, NERACOOS)","FY18","FY20"],
            ["OAP1815-1702","NOA-ON Chesapeake Bay (Cai, MARACOOS)","FY18","FY20"],
            ["OAP1816-1032","NOA-ON Grey's Reef (Noakes, Cai, SECORA)","FY18","FY20"],
            ["OAP1807-1019","NOA-ON Cheeca Rocks (Manzello, AOML) ","FY18","FY20"],
            ["OAP1817-1033","NOA-ON La Parguera (Morelles, CARICOOS)","FY18","FY20"],
            ["OAP1818-1704","NOA-ON Gulf of Mexico (Howden, GCOOS)","FY18","FY20"],
            ["OAP1819-1034","NOA-ON Oahu (DeCarlo, PACIOOS)","FY18","FY20"],
            ["OAP1820-1703","NOA-ON NH-10 (Hales, NANOOS)","FY18","FY20"],
            ["OAP1821-1031","NOA-ON Cha'ba (Newton, NANOOS)","FY18","FY20"],
            ["OAP1813-1616","NCRMP OA Enterprise: MApCO2 buoys at NCRMP Class III sites in US coral reefs (Kimball, CRCP)","FY18","FY20"],
            ["OAP1822-1027","NOA-ON CCE (Send, CIMEC)","FY18","FY20"],
            ["OAP1823-1010","California Current Ecosystem OA Enterprise: Potential pH acclimation and adaptation in Dungeness Crab (McElhany, NWFSC)","FY18","FY20"],
            ["OAP1824-1824","California Current Ecosystem OA Enterprise: Response of adult krill to global change (Busch, NWFSC)","FY18","FY20"],
            ["OAP1825-1825","California Current Ecosystem OA Enterprise: Effects of CO2 on salmon olfactory and magnetoreception function (Dittman, NWFSC)","FY18","FY20"],
            ["OAP1802-1802","California Current Ecosystem OA Enterprise: Evaluating the power of time series analyses to detect biological effects of OA (McElhany, NWFSC)","FY18","FY20"],
            ["OAP1826-1826","NEFSC OA Entity: OA Growth Affects on Eastern oysters"," Atlantic surfclams"," and Atlantic sea scallops (Meseck, NEFSC)","FY18","FY20"],
            ["OAP1827-1120","NEFSC OA Entity: Testing OA Affects of Key Living Marine Resources of Northeast Continental Shelf Ecosystem (Chambers, NEFSC)","FY18","FY20"],
            ["OAP1828-1020","Alaska Enterprise: Physiological response and acclimation potential of commercially important crab species to predicted changes in marine chemistry due to ocean acidification in Alaska. (Foy, AFSC)","FY18","FY20"],
            ["OAP1829-1023","Alaska Enterprise: Effects of OA on Alaskan groundfishes: identifying patterns and mechanisms of sensitivity and resiliency in physiological and behavioral performance (Hurst, AFSC)","FY18","FY20"],
            ["OAP1808-1808","SI-LOI: NCRMP OA Enterprise: Lab-based bioerosion and calcification experiments (Enochs, AOML)","FY18","FY20"],
            ["OAP1826-1826","SI-LOI: NEFSC OA Entity: OA Growth Affects on Eastern oysters"," Atlantic surfclams"," and Atlantic sea scallops (Meseck, NEFSC)","FY18","FY20"],
            ["OAP1827-1120","SI-LOI: NEFSC OA Entity: Testing OA Affects of Key Living Marine Resources of Northeast Continental Shelf Ecosystem (Chambers, NEFSC)","FY18","FY20"],
            ["OAP1834-1537","California Current Ecosystem OA Enterprise: Sustained Seasonal Forecasts of Ocean Acidification Variability in Washington and Oregon Waters (Alin, PMEL)","FY18","FY20"],
            ["OAP1835-1538","AOML OA Entity: High-resolution modeling and mapping of the ocean acidification in the East and Gulf Coasts (Lee, AOML)","FY18","FY20"],
            ["OAP1836-1021","Alaska Enterprise: Forecast effects of ocean acidification on Alaska crab and groundfish fisheries (Dalton, AFSC)","FY18","FY20"],
            ["OAP1837-1542","PMEL OA Observing Network: OA Mooring Test-beds (Sutton, PMEL)","FY18","FY20"],
            ["OAP1838-1201","CIMEC CalCOFI OA Monitoring and QA/QC Analytical Support (Dickson)","FY18","FY20"],
            ["OAP1840-1216","Education & Outreach Entity: NOAA Ocean Acidification Education Minigrant Program (Mintz,OAP; Francis, NMS)","FY18","FY20"],
            ["OAP1841-1841","Education & Outreach Entity: NOAA Ocean Acidification Outreach Toolkit (Mintz,OAP; Francis, NMS)","FY18","FY20"]
    ]
    private Map<String, Funding> fundingMap
    FundingService() {
        fundingMap = buildMap()
    }

    private Map<String, Funding> buildMap() {
        Map<String, Funding> map = new TreeMap<>()
        for (String[] fundingInfo : oap_fundings) {
            map.put(fundingInfo[0], new Funding([agencyName:"NOAA Ocean Acidification Program",grantTitle:fundingInfo[1],grantNumber:fundingInfo[0]]))
        }
        return map
    }

    Set<String> fundingSources() {
        return fundingMap.keySet()
    }

    def fundingInfo(String grantNum) {
        return fundingMap.get(grantNum)
    }
}
